<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Grouped Data Parameters • pipr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get Grouped Data Parameters">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pipr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/pipr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/get-cp-example.html">Get Country Profiles</a>
    </li>
    <li>
      <a href="../articles/get-gd-example.html">Get Grouped Data Parameters</a>
    </li>
    <li>
      <a href="../articles/pip-env-aux-tables.html">Auxiliary tables and the `.pip` environment</a>
    </li>
    <li>
      <a href="../articles/reproducible-research.html">Reproducible research with PIP</a>
    </li>
    <li>
      <a href="../articles/visualization-examples.html">Visualization examples</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/worldbank/pipr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get Grouped Data Parameters</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/worldbank/pipr/blob/DEV/vignettes/articles/get-gd-example.Rmd" class="external-link"><code>vignettes/articles/get-gd-example.Rmd</code></a></small>
      <div class="hidden name"><code>get-gd-example.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://worldbank.github.io/pipr/">pipr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/get_gd.html">get_gd()</a></code> function allows users to interact with the
PIP API to retrieve grouped data statistics based on cumulative welfare
and population data. Depending on the chosen <code>estimate</code>
parameter, it can retrieve:</p>
<ul>
<li>poverty and inequality statistics
(<code>estimate = "stats"</code>).</li>
<li>Lorenz curve data points (<code>estimate = "lorenz"</code>).</li>
<li>regression parameters used of the Lorenz curve estimation
(<code>estimate = "params"</code>).</li>
</ul>
<p>Here are a few examples to get you started:</p>
<div class="section level2">
<h2 id="retrieve-poverty-and-inequality-statistics-for-grouped-data">Retrieve poverty and inequality statistics for grouped data<a class="anchor" aria-label="anchor" href="#retrieve-poverty-and-inequality-statistics-for-grouped-data"></a>
</h2>
<p>By default, <code><a href="../reference/get_gd.html">get_gd()</a></code> returns grouped statistics
(<code>estimate = "stats"</code>) based on cumulative welfare
(<code>cum_welfare</code>) and population values
(<code>cum_population</code>), both expressed as percentages. The
default mean (<code>requested_mean</code>) and poverty line
(<code>povline</code>) are set to 1, so the user should specify the
known mean of the distribution, and the desired poverty line.</p>
<p>The data used in this example is from <a href="https://ageconsearch.umn.edu/record/94862/?v=pdf" class="external-link">(Datt
(1998))</a>. Among other consumption survey variables, The dataset lists
the cumulative welfare(<code>L</code>, for Lorenz) and population
values(<code>p</code>) for rural India in 1983, expressed in shares
(percentages). The mean of the distribution is 109.9 Rs (daily), and the
poverty line at the time was 89 Rs. Note that the cumulative welfare and
population values should be monotonically increasing and sum to 1 to be
valid. Additionally, the cumulative population values should always be
greater or equal to the corresponding welfare values.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">datt_mean</span> <span class="op">&lt;-</span> <span class="fl">109.9</span></span>
<span></span>
<span><span class="va">datt_povline</span> <span class="op">&lt;-</span> <span class="fl">89</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">datt_rural</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    13 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;  $ monthly_pc_exp       : chr  "0 – 30" "30 – 40" "40 – 50" "50 – 60" ...</span></span>
<span><span class="co">#&gt;  $ mean_monthly_pc_exp  : num  24.4 35.8 45.4 55.1 64.9 ...</span></span>
<span><span class="co">#&gt;  $ percentage_of_persons: num  0.92 2.47 5.11 7.9 9.69 ...</span></span>
<span><span class="co">#&gt;  $ p                    : num  0.0092 0.0339 0.085 0.164 0.2609 ...</span></span>
<span><span class="co">#&gt;  $ L                    : num  0.00204 0.01009 0.03118 0.0708 0.12805 ...</span></span>
<span><span class="co">#&gt;  $ area                 : chr  "rural" "rural" "rural" "rural" ...</span></span></code></pre></div>
<div class="section level3">
<h3 id="get-headcount-from-poverty-line">Get headcount from poverty line<a class="anchor" aria-label="anchor" href="#get-headcount-from-poverty-line"></a>
</h3>
<p>To retrieve basic grouped statistics, you need to provide cumulative
welfare and population values along with the requested mean and poverty
line.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span></span>
<span>  cum_welfare <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>,</span>
<span>  cum_population <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>,</span>
<span>  estimate <span class="op">=</span> <span class="st">"stats"</span>,</span>
<span>  requested_mean <span class="op">=</span> <span class="va">datt_mean</span>,</span>
<span>  povline <span class="op">=</span> <span class="va">datt_povline</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 20</span></span></span>
<span><span class="co">#&gt;   poverty_line  mean median headcount poverty_gap poverty_severity watts  gini</span></span>
<span><span class="co">#&gt;          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           89  110.   94.3     0.451       0.125           0.047<span style="text-decoration: underline;">6</span> 0.165 0.289</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 12 more variables: mld &lt;dbl&gt;, polarization &lt;dbl&gt;, decile1 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   decile2 &lt;dbl&gt;, decile3 &lt;dbl&gt;, decile4 &lt;dbl&gt;, decile5 &lt;dbl&gt;, decile6 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   decile7 &lt;dbl&gt;, decile8 &lt;dbl&gt;, decile9 &lt;dbl&gt;, decile10 &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="get-poverty-line-from-headcount-popshare">Get poverty line from headcount (<code>popshare</code>)<a class="anchor" aria-label="anchor" href="#get-poverty-line-from-headcount-popshare"></a>
</h3>
<p>As an alternative, instead of the mean, you can provide the
population share (<code>popshare</code>), which will be assumed equal to
the poverty headcount ratio, and used to calculate the rest of the
statistics (and the poverty line itself):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span></span>
<span>  cum_welfare <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>,</span>
<span>  cum_population <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>,</span>
<span>  estimate <span class="op">=</span> <span class="st">"stats"</span>,</span>
<span>  requested_mean <span class="op">=</span> <span class="va">datt_mean</span>,</span>
<span>  popshare <span class="op">=</span> <span class="fl">0.3</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 20</span></span></span>
<span><span class="co">#&gt;   poverty_line  mean median headcount poverty_gap poverty_severity  watts  gini</span></span>
<span><span class="co">#&gt;          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>         73.4  110.   94.3       0.3      0.071<span style="text-decoration: underline;">6</span>           0.023<span style="text-decoration: underline;">7</span> 0.091<span style="text-decoration: underline;">3</span> 0.289</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 12 more variables: mld &lt;dbl&gt;, polarization &lt;dbl&gt;, decile1 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   decile2 &lt;dbl&gt;, decile3 &lt;dbl&gt;, decile4 &lt;dbl&gt;, decile5 &lt;dbl&gt;, decile6 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   decile7 &lt;dbl&gt;, decile8 &lt;dbl&gt;, decile9 &lt;dbl&gt;, decile10 &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="retrieve-lorenz-curve-data">Retrieve Lorenz curve data<a class="anchor" aria-label="anchor" href="#retrieve-lorenz-curve-data"></a>
</h2>
<p>To retrieve Lorenz curve data, you can specify
<code>estimate = "lorenz"</code> and provide the number of bins
(<code>n_bins</code>) to return (there is no default value for
<code>n_bins</code>). The Lorenz curve will be estimated with both the
Beta Lorenz and Quadratic Lorenz methodologies, then the best one will
be selected by default.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lorenz_100</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span></span>
<span>  cum_welfare <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>,</span>
<span>  cum_population <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>,</span>
<span>  estimate <span class="op">=</span> <span class="st">"lorenz"</span>,</span>
<span>  n_bins <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">lorenz_100</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [10 × 2] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ welfare: num [1:10] 0 0.0443 0.1036 0.1754 0.2589 ...</span></span>
<span><span class="co">#&gt;  $ weight : num [1:10] 0 0.111 0.222 0.333 0.444 ...</span></span></code></pre></div>
<p>You can also specify the Lorenz curve methodology by setting the
<code>lorenz</code> parameter to either <code>"lb"</code> (Beta Lorenz)
or <code>"lq"</code> (Quadratic Lorenz).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span></span>
<span>  cum_welfare <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>,</span>
<span>  cum_population <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>,</span>
<span>  estimate <span class="op">=</span> <span class="st">"lorenz"</span>,</span>
<span>  lorenz <span class="op">=</span> <span class="st">"lb"</span>,</span>
<span>  n_bins <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 2</span></span></span>
<span><span class="co">#&gt;    welfare weight</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  0       0    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  0.043<span style="text-decoration: underline;">2</span>  0.111</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  0.103   0.222</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  0.174   0.333</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  0.257   0.444</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  0.353   0.556</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  0.463   0.667</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  0.592   0.778</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  0.748   0.889</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  1       1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="retrieve-regression-parameters">Retrieve regression parameters<a class="anchor" aria-label="anchor" href="#retrieve-regression-parameters"></a>
</h2>
<p>Finally, you can retrieve the regression parameters used for the
Lorenz curve estimation by setting <code>estimate = "params"</code>. The
methods used, both the Beta Lorenz and the Quadratic Lorenz, are
described in detail in Datt (1998).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span></span>
<span>  cum_welfare <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>,</span>
<span>  cum_population <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>,</span>
<span>  estimate <span class="op">=</span> <span class="st">"params"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 16</span></span></span>
<span><span class="co">#&gt;   lorenz     A      B     C  ymean     sst     sse    r2     mse    se_A    se_B</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> lq     0.888 -<span style="color: #BB0000;">1.45</span>  0.202  0.122  0.084<span style="text-decoration: underline;">6</span> 3.51<span style="color: #949494;">e</span><span style="color: #BB0000;">-6</span> 1.000 3.90<span style="color: #949494;">e</span><span style="color: #BB0000;">-7</span> 0.006<span style="text-decoration: underline;">76</span> 0.019<span style="text-decoration: underline;">3</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> lb     0.561  0.930 0.580 -<span style="color: #BB0000;">2.50</span>  11.0    3.25<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> 1.000 3.61<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span> 0.015<span style="text-decoration: underline;">0</span>  0.005<span style="text-decoration: underline;">54</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: se_C &lt;dbl&gt;, validity &lt;lgl&gt;, normality &lt;lgl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   selected_for_dist &lt;chr&gt;, selected_for_pov &lt;chr&gt;</span></span></span></code></pre></div>
<p>The variable <code>selected_for_dist</code> shows the Lorenz curve
methodology selected by default when calculating the Lorenz curve data
points and the deciles. The variable <code>selected_for_pov</code> shows
the Lorenz curve methodology selected by default when calculating the
poverty and inequality statistics.</p>
</div>
<div class="section level2">
<h2 id="use-cases">Use cases<a class="anchor" aria-label="anchor" href="#use-cases"></a>
</h2>
<p>We now show three examples of how the <code><a href="../reference/get_gd.html">get_gd()</a></code> function
could be integrated in a workflow to analyze and visualize group
data.</p>
<div class="section level3">
<h3 id="poverty-line-vs-poverty-measures">Poverty Line vs Poverty Measures<a class="anchor" aria-label="anchor" href="#poverty-line-vs-poverty-measures"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">datt_mean</span> <span class="op">&lt;-</span> <span class="fl">109.9</span></span>
<span></span>
<span><span class="va">datt_povline</span> <span class="op">&lt;-</span> <span class="fl">89</span></span>
<span></span>
<span><span class="co"># Define a sequence of poverty lines</span></span>
<span><span class="va">poverty_lines</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">150</span>, by <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results</span></span>
<span><span class="va">poverty_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Loop over poverty lines to compute poverty measures</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">pl</span> <span class="kw">in</span> <span class="va">poverty_lines</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span></span>
<span>    cum_welfare <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>,</span>
<span>    cum_population <span class="op">=</span> <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>,</span>
<span>    estimate <span class="op">=</span> <span class="st">"stats"</span>,</span>
<span>    requested_mean <span class="op">=</span> <span class="fl">109.9</span>,</span>
<span>    povline <span class="op">=</span> <span class="va">pl</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">poverty_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">poverty_stats</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>poverty_line <span class="op">=</span> <span class="va">pl</span>, headcount <span class="op">=</span> <span class="va">stats</span><span class="op">$</span><span class="va">headcount</span>, poverty_gap <span class="op">=</span> <span class="va">stats</span><span class="op">$</span><span class="va">poverty_gap</span>, poverty_severity <span class="op">=</span> <span class="va">stats</span><span class="op">$</span><span class="va">poverty_severity</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Plotting</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">poverty_stats</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">poverty_line</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">headcount</span>, color <span class="op">=</span> <span class="st">"Headcount Ratio"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">poverty_gap</span>, color <span class="op">=</span> <span class="st">"Poverty Gap"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">poverty_severity</span>, color <span class="op">=</span> <span class="st">"Poverty Severity"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">datt_povline</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datt_povline</span>, y <span class="op">=</span> <span class="fl">0.8</span>, label <span class="op">=</span> <span class="st">"Official poverty line (89 Rs)"</span><span class="op">)</span>, hjust <span class="op">=</span> <span class="fl">1.1</span>, vjust <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">datt_mean</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">datt_mean</span>, y <span class="op">=</span> <span class="fl">0.8</span>, label <span class="op">=</span> <span class="st">"Mean (109.9 Rs)"</span><span class="op">)</span>, hjust <span class="op">=</span> <span class="op">-</span><span class="fl">.1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Poverty Measures vs. Poverty Line, Rural India 1983"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Poverty Line"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Poverty Measure (FGT indices)"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"Poverty Measure"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span>, </span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="get-gd-example_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="lorenz-curve-data">Lorenz Curve Data<a class="anchor" aria-label="anchor" href="#lorenz-curve-data"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lorenz_points_lq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span><span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>, <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>, estimate <span class="op">=</span> <span class="st">"lorenz"</span>, lorenz <span class="op">=</span> <span class="st">"lq"</span><span class="op">)</span></span>
<span><span class="va">lorenz_points_lq_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span><span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>, <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>, estimate <span class="op">=</span> <span class="st">"lorenz"</span>, lorenz <span class="op">=</span> <span class="st">"lq"</span>, n_bins <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">lorenz_points_lq_10</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">welfare</span><span class="op">)</span>, stat <span class="op">=</span> <span class="st">"identity"</span>, fill <span class="op">=</span> <span class="st">"darkorange"</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">datt_rural</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">p</span>, y <span class="op">=</span> <span class="va">L</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"darkorange"</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">lorenz_points_lq</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">welfare</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"darkorange"</span>, size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_abline</a></span><span class="op">(</span>intercept <span class="op">=</span> <span class="fl">0</span>, slope <span class="op">=</span> <span class="fl">1</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Lorenz Curve for Rural India, 1983"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Cumulative Share of Population"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Cumulative Share of Welfare"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="get-gd-example_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="rural-vs-urban">Rural vs Urban<a class="anchor" aria-label="anchor" href="#rural-vs-urban"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lorenz_rural</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span><span class="va">datt_rural</span><span class="op">$</span><span class="va">L</span>, <span class="va">datt_rural</span><span class="op">$</span><span class="va">p</span>, estimate <span class="op">=</span> <span class="st">"lorenz"</span>, lorenz <span class="op">=</span> <span class="st">"lq"</span>, n_bins <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span>
<span><span class="va">lorenz_urban</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gd.html">get_gd</a></span><span class="op">(</span><span class="va">datt_urban</span><span class="op">$</span><span class="va">L</span>, <span class="va">datt_urban</span><span class="op">$</span><span class="va">p</span>, estimate <span class="op">=</span> <span class="st">"lorenz"</span>, lorenz <span class="op">=</span> <span class="st">"lq"</span>, n_bins <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">lorenz_rural</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">welfare</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"darkorange"</span>, size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">lorenz_urban</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">weight</span>, y <span class="op">=</span> <span class="va">welfare</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"steelblue"</span>, size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_abline</a></span><span class="op">(</span>intercept <span class="op">=</span> <span class="fl">0</span>, slope <span class="op">=</span> <span class="fl">1</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Lorenz Curve for India, 1983"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Cumulative Share of Population"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Cumulative Share of Welfare"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="get-gd-example_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><p>Datt, Gaurav (1998). “Computational tools for poverty measurement
and analysis.” FCND Discussion Paper 50. International Food Policy
Research Institute (IFPRI). Washington, DC. <a href="https://www.ifpri.org/publication/computational-tools-poverty-measurement-and-analysis" class="external-link">Link</a></p></li>
<li><p>Sarveskhana, Vol IX n 4 (April 1986). <a href="https://mospi.gov.in/sites/default/files/publication_reports/Sarvekshana_issue%20no.%2027_%20Vol%20%209%20No%204.PDF" class="external-link">Link</a></p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tony Fujs, Aleksander Eilertsen, Ronak Shah, R.Andrés Castañeda, Giorgia Cecchinato.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
